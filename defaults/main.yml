---
# Consul version to install
consul_version: 1.14.3
# Consul Web UI version to install
consul_webui_version: 1.14.3
# Flag to set if consul will work as server
consul_server: true
# Flag to set if consul will install the web ui
consul_webui: true
# Consul datacenter name
consul_dc_name: dc1
# Consul domain name
consul_domain: consul
# Consul rejoin IPs: Comma separated list of IPs to join
consul_join_ips: ["{{ ansible_default_ipv4.address }}"]
# Consul advertise address
consul_advertise_addr: "{{ ansible_default_ipv4.address }}"
# Number of servers to bootstrap recommended (1, 3, 5))
consul_bootstrap_expect: 1
# Consul agent token
consul_agent_token: ""
# Flag to configure systemd-resolved with consul dns
consul_dns: true
# URL to download consul
consul_url: https://releases.hashicorp.com/consul/{{ consul_version }}/consul_{{ consul_version }}_linux_amd64.zip
# Path to download consul zip
consul_download_dir: /tmp
# Path to install consul binaries
consul_install_dir: /usr/bin
# Path to install consul config
consul_config_dir: /var/lib/consul/conf
# Path to install consul data
consul_data_dir: /var/lib/consul
# Consul user
consul_user: consul
# Consul group
consul_group: consul
# Consul service name
consul_service_name: consul
consul_tokens: []
consul_basic_policies:
  - name: node-policy
    description: Consul Client Policy
    rules: |
      agent_prefix "" {
        policy = "write"
      }
      node_prefix "" {
        policy = "write"
      }
      service_prefix "" {
        policy = "read"
      }
      session_prefix "" {
        policy = "read"
      }
  - name: dns-request-policy
    description: Consul DNS Policy
    rules: |
      node_prefix "" {
        policy = "read"
      }
      service_prefix "" {
        policy = "read"
      }
consul_policies: []
# Version of CNI plugins to install, set empty to disable
cni_plugins_version: "1.3.0"